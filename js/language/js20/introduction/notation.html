<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>JavaScript 2.0 表記法</title>
<meta http-equiv="Content-Type" content="text/html;charset=EUC-JP">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<link rev="alternate" lang="en-us" href="http://www.mozilla.org/js/language/js20/introduction/notation.html">
<link rel="stylesheet" href="../../styles.css">
<link rel="Start" href="../index.html">
<link rel="Contents" href="../index.html">
<link rel="Prev" href="motivation.html">
<link rel="Next" href="../core/index.html">
<script type="text/javascript" language="JavaScript1.2" src="../../unicodeCompatibility.js"></script>
<style type="text/css" media="screen,tv">
<!--
	body {
		font-family:Tahoma,sans-serif;
		font-size:90%;
	}
	div.clsTransFooter {
		background:#FFFFE0 none;
		font-size:80%;
		text-align:right;
		line-height:1.2em;
		margin-top:1em;
		padding:3px;
		border:1px dashed #996;
	}
	p, ul, ol {
		line-height:1.2em;
	}
	ins.clsByTranslator {
		color:#090;
		font-size:0.8em;
		font-style:italic;
		text-decoration:none;
	}
	ins code {
		color:inherit;
		font-size:1.1em;
	}
-->
</style>
</head>

<body>
<table width="100%" border="0" cellspacing="2" cellpadding="0">
<tr>
  <td style="vertical-align:top;white-space:nowrap;">
    <div class="title2"><span class="top-title">JavaScript 2.0</span></div>
    <div class="title2">導入</div>
    <div class="title1">表記法</div>
  </td>
  <td style="text-align:right;vertical-align:top;white-space:nowrap;"><a href="motivation.html"><img src="../../arrows/left.gif" width="37" height="37" alt="previous"></a><a href="../index.html"><img src="../../arrows/up.gif" width="37" height="37" alt="up"></a><a href="../core/index.html"><img src="../../arrows/right.gif" width="37" height="37" alt="next"></a></td>
</tr>
</table>

<p class="mod-date">2003/06/11 (Wed)</p>

<h2><a name="character"></a>文字の表記</h2>

<p>本草案では文字リテラルを表すのに以下の決まりに従う:</p>

<p>表示可能な ASCII 文字リテラル (16進数で 20 から 7E までの値) には青の等幅フォント (<code>blue monospaced font</code>) を用いる。Unicode
基本多言語平面の文字 (16進数で 0000 から FFFF までのコードポイント) はその4桁の16進数値を <code><span class="control">&#171;u</span></code>
と <code><span class="control">&#187;</span></code> で囲むことで表す。補助 Unicode 文字 (16進数で 10000 から 10FFFF までのコードポイント)
はその8桁の16進数値を <code><span class="control">&#171;U</span></code> と <code><span class="control">&#187;</span></code>
で囲むことで表す。例えば改行なし空白文字 (NBSP) は <code><span class="control">&#171;u00A0&#187;</span></code>
、コードポイントが16進数で 1234F の文字は <code><span class="control">&#171;U0001234F&#187;</span></code> と書く。幾つかの一般的な制御文字は名前を使って表す:</p>

<div class="indent">
  <table border="1" cellspacing="1" cellpadding="1">
  <colgroup>
    <col valign="top" style="white-space:nowrap;">
	<col valign="top" style="white-space:nowrap;">
  </colgroup>
  <tr align="left">
    <th>省略形</th>
    <th>Unicode 値</th>
  </tr>
  <tr>
    <td><code><span class="control">&#171;NUL&#187;</span></code></td>
    <td><code><span class="control">&#171;u0000&#187;</span></code></td>
  </TR>
  <tr>
    <td><code><span class="control">&#171;BS&#187;</span></code></td>
    <td><code><span class="control">&#171;u0008&#187;</span></code></td>
  </tr>
  <tr>
    <td><code><span class="control">&#171;TAB&#187;</span></code></td>
    <td><code><span class="control">&#171;u0009&#187;</span></code></td>
  </tr>
  <tr>
    <td><code><span class="control">&#171;LF&#187;</span></code></td>
    <td><code><span class="control">&#171;u000A&#187;</span></code></td>
  </tr>
  <tr>
    <td><code><span class="control">&#171;VT&#187;</span></code></td>
    <td><code><span class="control">&#171;u000B&#187;</span></code></td>
  </tr>
  <tr>
    <td><code><span class="control">&#171;FF&#187;</span></code></td>
    <td><code><span class="control">&#171;u000C&#187;</span></code></td>
  </tr>
  <tr>
    <td><code><span class="control">&#171;CR&#187;</span></code></td>
    <td><code><span class="control">&#171;u000D&#187;</span></code></td>
  </tr>
  <tr>
    <td><code><span class="control">&#171;SP&#187;</span></code></td>
    <td><code><span class="control">&#171;u0020&#187;</span></code></td>
  </tr>
  </table>

</div>
<p>ドキュメント中の空白文字は、文脈から区別が付く場合は半角スペースで、他の表記と区別の付きにくい場合は
<code><span class="control">&#171;SP&#187;</span></code> を使う。</p>

<h2><a name="grammar"></a>文法の表記</h2>

<p>LR(1) <ins class="clsByTranslator">[訳注: LR は構文解析法の1つ。高級言語の解析に使用される。LR(1) 、LALR(1) はその一種]</ins>
の各<a href="../formal/parser-grammar.html">構文文法</a>、<a href="../formal/lexer-grammar.html">字句文法</a>は1つの非終端記号、1つの
<script type="text/javascript">document.write(U_rArr)</script> 、及び縦棒 (|) で分けられた1つ以上の非終端記号の展開から成る。展開は通常は異なる行に置くことで別々のものとするが、短い場合は同一行に記述する。空の展開は
&#171;empty&#187; と表記する。</p>

<p>例として以下の規則を考える:</p>

<div class="grammar-rule">
  <div class="grammar-lhs"><span class="nonterminal">SampleList</span>&nbsp; <script type="text/javascript">document.write(U_rArr)</script>
  </div>
  <div class="grammar-rhs">&nbsp;&nbsp;&nbsp;&#171;empty&#187;</div>
  <div class="grammar-rhs">|&nbsp;&nbsp;<code class="terminal-keyword">...</code>&nbsp;<span class="nonterminal">Identifier</span></div>
  <div class="grammar-rhs">|&nbsp;&nbsp;<span class="nonterminal">SampleListPrefix</span></div>
  <div class="grammar-rhs">|&nbsp;&nbsp;<span class="nonterminal">SampleListPrefix</span>&nbsp;<code class="terminal-keyword">,</code>&nbsp;<code class="terminal-keyword">...</code>&nbsp;<span class="nonterminal">Identifier</span></div>
</div>
<p>この規則は非終端記号 <span class="nonterminal">SampleList</span> が4通りの入力トークン列で表現できるということを示す:</p>

<ul>
  <li>空でもよい (&#171;empty&#187; を選択することにより示される)</li>
  <li>トークン <code class="terminal-keyword">...</code> の後に非終端記号 <span class="nonterminal">Identifier</span> の展開が続くもの</li>
  <li>非終端記号 <span class="nonterminal">SampleListPrefix</span> の展開</li>
  <li>非終端記号 <span class="nonterminal">SampleListPrefix</span> の展開の後にトークン <code class="terminal-keyword">,</code>
    、<code class="terminal-keyword">...</code> と <span class="nonterminal">Identifier</span> の展開が続くもの</li>
</ul>
<p>入力トークンは<a href="../formal/lexer-grammar.html">字句文法</a>においては文字 (と特別なプレースホルダ
<span class="terminal">End</span>) であり、<a href="../formal/parser-grammar.html">構文文法</a>においては字句トークンである。入力トークンはそのまま青の等幅太字フォント
(<code class="terminal-keyword">bold blue monospaced font</code>) で記述し、入力トークンと非終端記号はそれぞれ空白で分割した。1つの空白から成る入力トークンは
<code><span class="control">&#171;SP&#187;</span></code> と記した。その他、非 ASCII 文字、表示不能文字も<a href="#character">文字の表記</a>の節に示した通り
<code><span class="control">&#171;</span></code> と <code><span class="control">&#187;</span></code> を使って記した。</p>

<h3>lookahead 制限</h3>

<p>生成規則の展開に &#8220;[lookahead&nbsp;<script type="text/javascript">document.write(U_notin)</script>&nbsp;<var>set</var>]&#8221;
という句がある場合、そのすぐ後ろの終端記号が <var>set</var> のメンバであればその生成規則は使用できないことを示す。この
<var>set</var> は中括弧で囲まれた終端記号のリストで書くことができる。便宜のために <var>set</var> は1つの非終端記号
<ins class="clsByTranslator">[訳注: 中括弧は必要らしい]</ins> として書いてもよく、その場合はその非終端記号から展開され得る全ての終端記号の集合を表す。</p>

<p>例えば、</p>

<div class="grammar-rule">
  <div class="grammar-lhs"><span class="nonterminal">DecimalDigit</span>&nbsp;<script type="text/javascript">document.write(U_rArr)</script>&nbsp;<code>0</code>&nbsp;|&nbsp;<code>1</code>&nbsp;|&nbsp;<code>2</code>&nbsp;|&nbsp;<code>3</code>&nbsp;|&nbsp;<code>4</code>&nbsp;|&nbsp;<code>5</code>&nbsp;|&nbsp;<code>6</code>&nbsp;|&nbsp;<code>7</code>&nbsp;|&nbsp;<code>8</code>&nbsp;|&nbsp;<code>9</code></div>
</div>
<div class="grammar-rule">
  <div class="grammar-lhs"><span class="nonterminal">DecimalDigits</span>&nbsp;<script type="text/javascript">document.write(U_rArr)</script></div>
  <div class="grammar-rhs">&nbsp;&nbsp;&nbsp;<span class="nonterminal">DecimalDigit</span></div>
  <div class="grammar-rhs">|&nbsp;&nbsp;<span class="nonterminal">DecimalDigits</span>&nbsp;<span class="nonterminal">DecimalDigit</span></div>
</div>
<p>という規則があるとき、以下の規則は</p>

<div class="grammar-rule">
  <div class="grammar-lhs"><span class="nonterminal">LookaheadExample</span>&nbsp;<script type="text/javascript">document.write(U_rArr)</script></div>
  <div class="grammar-rhs">&nbsp;&nbsp;&nbsp;<code>n</code>&nbsp;[lookahead&nbsp;<script type="text/javascript">document.write(U_notin)</script>&nbsp;{<code>1</CODE>,&nbsp;<code>3</code>,&nbsp;<code>5</code>,&nbsp;<code>7</code>,&nbsp;<code>9</code>}]&nbsp;<span class="nonterminal">DecimalDigits</span></div>
  <div class="grammar-rhs">|&nbsp;&nbsp;<span class="nonterminal">DecimalDigit</span>&nbsp;[lookahead&nbsp;<script type="text/javascript">document.write(U_notin)</script>&nbsp;{<span class="nonterminal">DecimalDigit</span>}]</div>
</div>
<p>文字 <code>n</code> の後ろに1つ以上数字が続きその最初の数字は偶数であるもの、或いは後ろに数字の続かない1文字の数字のいずれかにマッチする。</p>

<p>これら lookahead 制限は LR(1) 以上に文法を理論的に強力にするものではないが、これらの文法はより簡潔に記述できるようになる。<a href="http://lxr.mozilla.org/mozilla/source/js2/semantics">意味解析エンジン</a>は普通の
LR(1) 、LALR(1) 文法から生成されるものと同じ形式の解析表をコンパイルにより生成する。</p>

<h3>改行制限</h3>

<p>生成規則の展開に &#8220;[no&nbsp;line&nbsp;break]&#8221;
という句がある場合、文法でマッチした最後の終端記号の後ろに改行があればその生成規則は使用できないことを示す。改行制限は<a href="../formal/parser-grammar.html">構文文法</a>にのみ現れる。</p>

<h3>パラメータ付けされた規則</h3>

<p>似通った規則群に同じ文法規則が現れることは多い。これらの規則群は全て列挙せずに以下に示す簡便記法を使って要約した:</p>

<p>次のような変換定義は</p>

<div class="grammar-argument"><span class="nonterminal"><span class="nonterminal-argument"><script type="text/javascript">document.write(U_alpha)</script></span></span>&nbsp;
  <script type="text/javascript">document.write(U_isin)</script> &nbsp;{<span class="nonterminal"><span class="nonterminal-attribute">normal</span></span>,&nbsp;<span class="nonterminal"><span class="nonterminal-attribute">initial</span></span>}</div>
<div class="grammar-argument"><span class="nonterminal"><span class="nonterminal-argument"><script type="text/javascript">document.write(U_beta)</script></span></span>&nbsp;
  <script type="text/javascript">document.write(U_isin)</script> &nbsp;{<span class="nonterminal"><span class="nonterminal-attribute">allowIn</span></span>,&nbsp;<span class="nonterminal"><span class="nonterminal-attribute">noIn</span></span>}</div>
<p>文法上の引数 <span class="nonterminal nonterminal-arguments"><script type="text/javascript">document.write(U_alpha)</script></span>
と <span class="nonterminal nonterminal-arguments"><script type="text/javascript">document.write(U_beta)</script></span>
を導入する。規則の左側の非終端記号がこれらの引数によりパラメータ付けされると、その規則は暗黙の内に文法上の引数を一貫してその変数に置き換えた規則の集合に複製される。例えば次の規則は</p>

<div class="grammar-rule">
  <div class="grammar-lhs"><span class="nonterminal">AssignmentExpression</span><sup><span class="nonterminal-argument"><script type="text/javascript">document.write(U_alpha)</script></span>,<span class="nonterminal-argument"><script type="text/javascript">document.write(U_beta)</script></span></sup>&nbsp;
    <script type="text/javascript">document.write(U_rArr)</script></div>
  <div class="grammar-rhs">&nbsp;&nbsp;&nbsp;<span class="nonterminal">ConditionalExpression</span><sup><span class="nonterminal-argument"><script type="text/javascript">document.write(U_alpha)</script></span>,<span class="nonterminal-argument"><script type="text/javascript">document.write(U_beta)</script></span></sup></div>
  <div class="grammar-rhs">|&nbsp;&nbsp;<span class="nonterminal">LeftSideExpression</span><sup class="nonterminal-argument"><script type="text/javascript">document.write(U_alpha)</script></sup>&nbsp;<code class="terminal-keyword">=</code>&nbsp;<span class="nonterminal">AssignmentExpression</span><sup><span class="nonterminal-attribute">normal</span>,<span class="nonterminal-argument"><script type="text/javascript">document.write(U_beta)</script></span></sup></div>
  <div class="grammar-rhs">|&nbsp;&nbsp;<span class="nonterminal">LeftSideExpression</span><sup class="nonterminal-argument"><script type="text/javascript">document.write(U_alpha)</script></sup>&nbsp;<span class="nonterminal">CompoundAssignment</span>&nbsp;<span class="nonterminal">AssignmentExpression</span><sup><span class="nonterminal-attribute">normal</span>,<span class="nonterminal-argument"><script type="text/javascript">document.write(U_beta)</script></span></sup></div>
</div>
<p>以下の4つの規則に展開される:</p>

<div class="grammar-rule">
  <div class="grammar-lhs"><span class="nonterminal">AssignmentExpression</span><sup><span class="nonterminal-attribute">normal</span>,<span class="nonterminal-attribute">allowIn</span></sup>&nbsp;
    <script type="text/javascript">document.write(U_rArr)</script></div>
  <div class="grammar-rhs">&nbsp;&nbsp;&nbsp;<span class="nonterminal">ConditionalExpression</span><sup><span class="nonterminal-attribute">normal</span>,<span class="nonterminal-attribute">allowIn</span></sup></div>
  <div class="grammar-rhs">|&nbsp;&nbsp;<span class="nonterminal">LeftSideExpression</span><sup class="nonterminal-attribute">normal</sup>&nbsp;<code class="terminal-keyword">=</code>&nbsp;<span class="nonterminal">AssignmentExpression</span><sup><span class="nonterminal-attribute">normal</span>,<span class="nonterminal-attribute">allowIn</span></sup></div>
  <div class="grammar-rhs">|&nbsp;&nbsp;<span class="nonterminal">LeftSideExpression</span><sup class="nonterminal-attribute">normal</sup>&nbsp;<span class="nonterminal">CompoundAssignment</span>&nbsp;<span class="nonterminal">AssignmentExpression</span><sup><span class="nonterminal-attribute">normal</span>,<span class="nonterminal-attribute">allowIn</span></sup></div>
</div>
<div class="grammar-rule">
  <div class="grammar-lhs"><span class="nonterminal">AssignmentExpression</span><sup><span class="nonterminal-attribute">normal</span>,<span class="nonterminal-attribute">noIn</span></sup>&nbsp;
    <script type="text/javascript">document.write(U_rArr)</script></div>
  <div class="grammar-rhs">&nbsp;&nbsp;&nbsp;<span class="nonterminal">ConditionalExpression</span><sup><span class="nonterminal-attribute">normal</span>,<span class="nonterminal-attribute">noIn</span></sup></div>
  <div class="grammar-rhs">|&nbsp;&nbsp;<span class="nonterminal">LeftSideExpression</span><sup class="nonterminal-attribute">normal</sup>&nbsp;<code class="terminal-keyword">=</code>&nbsp;<span class="nonterminal">AssignmentExpression</span><sup><span class="nonterminal-attribute">normal</span>,<span class="nonterminal-attribute">noIn</span></sup></div>
  <div class="grammar-rhs">|&nbsp;&nbsp;<span class="nonterminal">LeftSideExpression</span><sup class="nonterminal-attribute">normal</sup>&nbsp;<span class="nonterminal">CompoundAssignment</span>&nbsp;<span class="nonterminal">AssignmentExpression</span><sup><span class="nonterminal-attribute">normal</span>,<span class="nonterminal-attribute">noIn</span></sup></div>
</div>
<div class="grammar-rule">
  <div class="grammar-lhs"><span class="nonterminal">AssignmentExpression</span><sup><span class="nonterminal-attribute">initial</span>,<span class="nonterminal-attribute">allowIn</span></sup>&nbsp;
    <script type="text/javascript">document.write(U_rArr)</script></div>
  <div class="grammar-rhs">&nbsp;&nbsp;&nbsp;<span class="nonterminal">ConditionalExpression</span><sup><span class="nonterminal-attribute">initial</span>,<span class="nonterminal-attribute">allowIn</span></sup></div>
  <div class="grammar-rhs">|&nbsp;&nbsp;<span class="nonterminal">LeftSideExpression</span><sup class="nonterminal-attribute">initial</sup>&nbsp;<code class="terminal-keyword">=</code>&nbsp;<span class="nonterminal">AssignmentExpression</span><sup><span class="nonterminal-attribute">normal</span>,<span class="nonterminal-attribute">allowIn</span></sup></div>
  <div class="grammar-rhs">|&nbsp;&nbsp;<span class="nonterminal">LeftSideExpression</span><sup class="nonterminal-attribute">initial</sup>&nbsp;<span class="nonterminal">CompoundAssignment</span>&nbsp;<span class="nonterminal">AssignmentExpression</span><sup><span class="nonterminal-attribute">normal</span>,<span class="nonterminal-attribute">allowIn</span></sup></div>
</div>
<div class="grammar-rule">
  <div class="grammar-lhs"><span class="nonterminal">AssignmentExpression</span><sup><span class="nonterminal-attribute">initial</span>,<span class="nonterminal-attribute">noIn</span></sup>&nbsp;
    <script type="text/javascript">document.write(U_rArr)</script></div>
  <div class="grammar-rhs">&nbsp;&nbsp;&nbsp;<span class="nonterminal">ConditionalExpression</span><sup><span class="nonterminal-attribute">initial</span>,<span class="nonterminal-attribute">noIn</span></sup></div>
  <div class="grammar-rhs">|&nbsp;&nbsp;<span class="nonterminal">LeftSideExpression</span><sup class="nonterminal-attribute">initial</sup>&nbsp;<code class="terminal-keyword">=</code>&nbsp;<span class="nonterminal">AssignmentExpression</span><sup><span class="nonterminal-attribute">normal</span>,<span class="nonterminal-attribute">noIn</span></sup></div>
  <div class="grammar-rhs">|&nbsp;&nbsp;<span class="nonterminal">LeftSideExpression</span><sup class="nonterminal-attribute">initial</sup>&nbsp;<span class="nonterminal">CompoundAssignment</span>&nbsp;<span class="nonterminal">AssignmentExpression</span><sup><span class="nonterminal-attribute">normal</span>,<span class="nonterminal-attribute">noIn</span></sup></div>
</div>
<p><span class="nonterminal">AssignmentExpression</span><sup><span class="nonterminal-attribute">normal</span>,<span class="nonterminal-attribute">allowIn</span></sup>
はもはやパラメータ付けされていない非終端記号であり、文法により通常通り処理される。</p>

<p>展開された規則の中には (上記の例の4番目のものなど) 文法の開始非終端記号からは到達不可能なものもあり、これらは無視される。</p>

<h3>特別な字句規則</h3>

<p>幾つかの字句規則には実際に展開すると長大なリストになる展開を持つものもある。これらは
<script type="text/javascript">document.write(U_rArr)</script> の後ろに展開のリストを書かず、記述的なテキストで記した。</p>

<p>規則には変換語 (metaword) <b>except</b> を含むものもある。これらの規則は <b>except</b> より前のあらゆる展開にマッチするが、<b>except</b>
より後ろの展開にはマッチしない。これらの規則は最終的には全て単一の文字に展開される。例えば以下の規則は <code>*</code> と
<code>/</code> 以外のあらゆる単一の <span class="nonterminal">UnicodeCharacter</span> にマッチする:</p>

<div class="grammar-rule">
  <div class="grammar-lhs"><a name="N-NonAsteriskOrSlash"></a><span class="nonterminal">NonAsteriskOrSlash</span>&nbsp;<script type="text/javascript">document.write(U_rArr)</script>&nbsp;<span class="nonterminal">UnicodeCharacter</span>&nbsp;<b>except</b>&nbsp;<code>*</code>&nbsp;|&nbsp;<code>/</code></div>
</div>

<hr>
<table width="100%" border="0" cellspacing="2" cellpadding="0">
<tr>
  <td style="vertical-align:bottom;white-space:nowrap;">
    <address><a href="mailto:waldemar@netscape.com">Waldemar Horwat</a><br>
    最終更新: 2003年6月11日 (水)</address>
  </td>
  <td style="text-align:right;vertical-align:top;white-space:nowrap;"><a href="motivation.html"><img src="../../arrows/left.gif" width="37" height="37" alt="previous"></a><a href="../index.html"><img src="../../arrows/up.gif" width="37" height="37" alt="up"></a><a href="../core/index.html"><img src="../../arrows/right.gif" width="37" height="37" alt="next"></a></td>
</tr>
</table>

<div class="clsTransFooter">
	訳者: exeal &lt;<a href="mailto:exeal@student.interq.or.jp">exeal@student.interq.or.jp</a>&gt;<br>
	<a href="http://www.mozilla.org/js/language/js20/introduction/notation.html">このドキュメントのオリジナルは mozilla.org にこの和訳は、利用者の利便のために <a href="http://www.mozilla-japan.org/jp/td/">Mozilla Japan 翻訳部門</a> によって提供されています。<br>
内容に関してご不明な点がありましたら <a href="mailto:webmaster&#64;mozilla-japan.org">webmaster</a> までお問い合わせください。
</div>

</body>
</html>
