<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="ja">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=euc-jp">
  <title>Mozilla 1.4 FAQ: 7. プロファイルとバックアップ</title>
  <link rel="stylesheet" title="オレンジ" href="../defaultstyle.css" type="text/css">
  <link rel="alternate stylesheet" title="シンプル" href="../basicstyle.css" type="text/css">
  <link rel="alternate stylesheet" title="太平洋" href="../bluestyle.css" type="text/css">
  <link rel="icon" href="../images/mozilla-16.png" type="image/png">
  <script src="../detect-problems.js" type="text/javascript"></script>
  <script src="../stylesheets.js" type="text/javascript"></script>
 </head>
 <body onload="loadStyle();silentlyFixErrors('../')">
  <div id="mainHeaderContainer" class="sectionHeaderContainer">
   <img src="../images/dino.png" alt="" id="dinoHead">
   <div id="mainHeader" class="sectionHeader"><a href="../" id="mozillaLogo"></a></div>
  </div>
  <div id="mainSection" class="section">     
   <!-- 訳者コメント: 訳出に当って、Masao Katayama さんの訳を参考にさせていただきました。ありがとうございます。-->
   <h1><a name="top">7. プロファイルとバックアップ</a></h1>
   <div class="toc">
   <ul>
    <li><a href="#what">7.1. プロファイルとは何ですか?</a></li>
    <li><a href="#newprofile">7.2. 複数のプロファイルを設定するには?</a></li>
    <li><a href="#location">7.3. 私のプロファイルが保存されている場所は?</a></li>
    <li><a href="#salt">7.4. 私のプロファイルディレクトリにある (ランダムな文字列).slt ディレクトリは何ですか?</a></li>
    <li><a href="#migrate">7.5. 私の Netscape 4.x のプロファイルを Mozilla に移すには?</a></li>
    <li><a href="#backup">7.6. プロファイルデータをバックアップするには?</a></li>
    <li><a href="#restore">7.7. バックアップからプロファイルデータを復旧するには?</a></li>
    <li><a href="#rescue">7.8. 壊れたプロファイルからデータを復旧するには?</a></li>
    <li><a href="#transport">7.9. プロファイルを別のマシンに移すには?</a></li>
    <li><a href="#netscape">7.10. Netscape 7 や古いバージョンの Mozilla とプロファイルを共有できますか?</a></li>
    <li><a href="#roaming">7.11. Mozilla は、ローミング・プロファイルをサポートしていますか?</a></li>
    <li><a href="#protect">7.12. プロファイルのデータを守るには?</a></li>
    <li><a href="#cmd-line">7.13. Mozilla を特定のプロファイルで起動するには?</a></li>
   </ul>
   </div>
   <div class="content">       
    <dl class="faqs">

<dt><a onclick="return false;" name="what" href="#what">7.1. プロファイルとは何ですか?</a></dt>
<dd>
<p>あなたのプロファイルは、Mozilla におけるあなたのアイデンティティです。あなたのプロファイルに含まれているものは、ブックマーク、メール/ニュースのファイルとアカウントの設定、保存されたパスワード、アドレス帳、セキュリティ証明書、およびカスタマイズした設定です。</p>
<p>1 つのコンピュータに複数の Mozilla プロファイルを作ることも可能です。例えば、家庭用と仕事用で分けたり、コンピュータを共有する家族のメンバーそれぞれに分けることができます。</p>
</dd>

<dt><a onclick="return false;" name="newprofile" href="#newprofile">7.2. 複数のプロファイルを設定するには?</a></dt>
<dd>
<ul>
 <li><p>Windowsでは、「スタート」メニューを開き、「プログラム」を選択、Mozilla  &gt; Profile Manager と進みます。または、新しいコマンドラインウィンドウ (訳注: いわゆる DOS窓) を開いて (スタート &gt; ファイル名を指定して実行で、<kbd>command</kbd> または <kbd>cmd</kbd> と入力)、Mozilla のプログラムディレクトリに移動し、<kbd>mozilla -profilemanager</kbd> と入力します。</p></li>
 <li><p>Mac OS X では、<!-- ターミナルを開き、Mozilla.app (Mozilla アプリケーションバンドル) のあるディレクトリに移動し、<kbd>Mozilla.app/Contents/MacOS/mozilla -profilemanager</kbd> と入力します -->Option キーを押しながら Mozilla アイコンをダブルクリックしてください。</p></li>
 <li><p>Linux/Unix では、シェルプロンプトを開いて Mozilla プログラムディレクトリに移動し、<kbd>mozilla -profilemanager</kbd> と入力します。</p></li>
</ul>
<p>もしも古いプロファイルがある筈なのにリストに表示されないのであれば、そのプロファイルは壊れているか Mozilla で認識できないかのどちらかです。</p>
</dd>

<dt><a onclick="return false;" name="location" href="#location">7.3. 私のプロファイルが保存されている場所は?</a></dt>
<dd>
<p>プロファイルの場所は、「ベース」「名前」「ソルト」 (ランダムな文字列.slt) という 3 つの要素で構成されます。例えば、</p>
<table class="screen">
<tr>
<td style="color:#C60"><tt>C:\Windows\Application Data\Mozilla\Profiles\</tt></td>
<td style="color:#C00"><tt>John Smith\</tt></td>
<td style="color:#C60"><tt>lm34qgkq.slt</tt></td>
</tr>
<tr>
<td style="text-align:center;color:#c60;">「ベース」プロファイルディレクトリ</td>
<td style="text-align:center;color:#c00;">名前</td>
<td style="text-align:center;color:#c60;">ソルト</td>
</tr>
</table>
<p>「ベース」プロファイルディレクトリには、プロファイルレジストリ (Registry.dat) ファイルが含まれています。「ベース」ディレクトリは、後ほど説明するように、システムの設定に依存します。</p>
<p>新しいプロファイルを作成する場合、プロファイルファイルを置く場所に、異なる「ベース」ディレクトリや「名前」サブディレクトリを選択できます。</p>
<p>「ソルト」は、.slt 拡張子の付いた 8 文字のランダムな英数字のサブディレクトリです。(<a href="#salt">7.4 &quot;私のプロファイルディレクトリにある (ランダムな文字列).slt ディレクトリは何ですか?&quot;</a> をご覧ください) 新しいプロファイルを作成する場合、Mozilla は、すでに存在しなければ「ソルト」ディレクトリを自動的に生成します。「ソルト」ディレクトリが存在する場合は、Profile Manager はそれを使用します。</p>
<p>以下のリストは <strong>標準的な</strong> 「ベース」プロファイルディレクトリを示しています。</p>
<p><u>Windows</u></p>
<ul>
 <li><p>(ログインしていない) Windows 95/98/ME では、標準的なプロファイルの場所は:</p><tt>C:&yen;Windows&yen;Application Data&yen;Mozilla&yen;Profiles&yen;</tt></li>
 <li><p>ログインしている Windows 95/98/ME では、標準的なプロファイルの場所は:</p><tt>C:&yen;Windows&yen;Profiles&yen;[ログイン名]&yen;Application Data&yen;Mozilla&yen;Profiles&yen;</tt></li>
 <li><p>Windows 2000/XP では、標準的なプロファイルの場所は:</p><tt>C:&yen;Documents and Settings&yen;[ログイン名]&yen;Application Data&yen;Mozilla&yen;Profiles&yen;</tt><p><strong>注意:</strong> Windows 2000/XP では、&quot;Documents and Settings&quot; ディレクトリは二重に隠されています。このディレクトリにアクセスするには、Windows Explorer を、システム・隠しディレクトリ・ファイルを表示するよう設定する必要があります。</p></li>
</ul>
<p><u>Macintosh</u></p>
<ul>
 <li><p>Mac OS X では、標準的なプロファイルの場所は:</p><tt>~/Library/Mozilla/Profiles/</tt></li>
</ul>
<p><u>Linux</u></p>
<ul>
 <li><p>Linux では、標準的なプロファイルの場所は:</p><p><tt>~/.mozilla/</tt></li></p>
</ul>
<dt><a onclick="return false;" name="salt" href="#salt">7.4. 私のプロファイルディレクトリにある (ランダムな文字列).slt ディレクトリは何ですか?</a></dt>
<dd>
<p>これは、「ソルティング」と呼ばれるものです。プロファイルデータは、悪質なプログラムによるプロファイルデータの発見を困難にするために、ランダムな名前が付けられたディレクトリに保存されます。(bug <a href="http://bugzilla.mozilla.org/show_bug.cgi?id=56002">56002</a> と <a href="http://bugzilla.mozilla.org/show_bug.cgi?id=97180">97180</a> をご覧ください)</p>
</dd>
<dt><a onclick="return false;" name="migrate" href="#migrate">7.5. 私の Netscape 4.<i>x </i>のプロファイルを Mozilla に移すには?</a></dt>
<dd>
<p>インストールに際して、プロファイルマネージャーは、Netscape 4.5 以降のプロファイルを、自動的に見つけてインポートする筈です。ただし、アドレス帳とセキュリティ証明書は例外です。</p>
<p>ブックマークは手動でも、ブックマーク｜ブックマークの管理｜ツール｜インポート (Bookmarks | Manage Bookmarks | Tools | Import) でインポートできます。ブックマークのファイルは HTML ファイルですので、手作業での編集も容易です。</p>
<p>アドレス帳を移動するには、Netscape 4.<i>x</i> から テキスト (<tt>.ldif</tt>) ファイルとしてエクスポートし、Mozilla に LDIF としてインポートしてください。</p>
<p>あなたのメールファイル (拡張子のないファイル) は、Netscape 4 のプロファイルから直接 Mozilla プロファイルの <tt>Mail</tt> フォルダにコピーできます。</p>
</dd>

<dt><a onclick="return false;" name="backup" href="#backup">7.6. プロファイルデータをバックアップするには?</a></dt>
<dd>
<p>お使いのブラウザソフトやコンピュータシステムが正常に機能しなくなり、大切なプロファイルデータが失われる場合が時々あります。そのため、私たちは、定期的にプロファイルのバックアップコピーを取っておくことをお勧めします。バックアップの頻度は利用状況によります。</p>
<p>ユーザデータは、すべてプロファイルディレクトリに保存されています。(<a href="#salt">7.3 &quot;私のプロファイルが保存されている場所は?&quot;</a> をご覧ください) 何をバックアップすればいいか分からない場合や、すべてバックアップを取りたい場合は、ディレクトリの中身をすべてバックアップしてください。「ソルト」と「名前」ディレクトリ構造を保つと、プロファイルデータの復旧や移行が簡単になります。</p>
<!--
<p>以下のファイルは、バックアップを取るべきでは <strong>ありません</strong>:</p>
<ul>
 <li><tt>xul.mfl</tt>, <tt>xul.mfasl</tt>, または <tt>XUL FastLoad File</tt></li>
 <li><tt>localstore.rdf</tt></li>
 <li><tt>chrome/*.jar</tt> (カスタムテーマのファイル)</li>
</ul>
<p>上に示されたファイルを再利用すると、Mozilla がクラッシュしたり、正常に機能しなくなる可能性があります。また同じテーマを使うには、バックアップコピーを使うのではなく、そのテーマの最新版をインストールしてください。</p>
-->
<p>以下のサブセクションでは、データを選んでバックアップする方法を説明します。</p>
<p><u>メール</u></p>
<p>メールメッセージは Mail (または Imap Mail) サブディレクトリ (例: /Mail/pop.mail.yahoo.com/) に保存されています。メールメッセージのバックアップを取るには、拡張子のないファイル、例えば INBOX を保存してください。フィルタも保存するには、rules.dat ファイルを保存してください。*.msf ファイルはインデックスファイルで、削除された場合は自動的に生成されます。何を保存すればいいかよく分からない場合は、Mail ディレクトリ全体を保存してください。</p>
<p><u>ニュース</u></p>
<p>ニュースの設定とメッセージは News サブディレクトリ (例: /News/news.mozilla.org/) に保存されています。購読グループは *.rc ファイル (例: news.mozilla.org.rc) に保存されています。ニュースサーバの完全なグループリストは hostinfo.dat (例: /News/news.mozilla.org/hostinfo.dat) に保存されています。*.msf ファイルはメッセージの要約を保存しています。ニュースのバックアップを取るには、*.rc、*.dat、*.msf ファイルを保存してください。</p>
<p><u>アドレス帳</u></p>
<p>プロファイルディレクトリの中にある、abook.mab (個人アドレス帳) と history.mab (収集アドレス帳) を保存してください。2 つ以上アドレス帳がある場合は、*.mab ファイルをすべて保存してください。</p>
<p><u>Bookmarks</u></p>
<p>bookmarks.html ファイルを保存してください。</p>
<p><u>保存したパスワードデータ</u></p>
<p>ユーザ名とパスワードデータは 12345678.s (数字の部分はランダム) に保存されています。このファイルを保存してください。</p>
<p><u>保存したフォームデータ</u></p>
<p>保存したフォームデータは 12345678.w (数字の部分はランダム) に保存されています。このファイルを保存してください。</p>
<p><u>ジャンクメールフィルタ</u></p>
<p>新しい洗練されたフィルタシステムのための情報が保存されている training.dat ファイルを保存してください。</p>
<p><u>Cookie</u></p>
<p>cookies.txt ファイルを保存してください。</p>
<p><u>ユーザ設定</u></p>
<p>Mozilla の主要な設定ファイルは prefs.js です。このファイルを保存してください。</p>
<p><u>カスタマイズファイル</u></p>
<p>Mozilla のカスタマイズにこれらのファイルを使う場合は、user.js と chrome/userContent.css、chrome/userChrome.css を保存してください。</p>
</dd>

<dt><a onclick="return false;" name="restore" href="#restore">7.7. バックアップからプロファイルデータを復旧するには?</a></dt>
<dd>
<p>通常、やるべきことは、プロファイルファイルのバックアップコピーを使って復旧することです。</p>
<p>ブラウザを終了し、プロファイルディレクトリにある既存のファイルと、バックアップコピーを置き換えてください。再起動しても、まだプロファイルデータが「失われている」ように見える場合は、壊れたクロームキャッシュファイルが残っている可能性があります。いったんブラウザを終了し、プロファイルディレクトリにある xul.mfl あるいは xul.mfasl、XUL FastLoad File という名前のファイルを削除し、もう一度 Mozilla を再起動してください。</p>
</dd>

<dt><a onclick="return false;" name="rescue" href="#rescue">7.8. 壊れたプロファイルからデータを復旧するには?</a></dt>
<dd>
<p>この項目は移動しました。トラブルシューティングガイドをご覧ください。</p>
<ul>
 <li><a href="../troubleshooting/#bookmarks-gone">助けて! ブックマークがすべて消えてしまいました!</a></li>
 <li><a href="../troubleshooting/#restore-mail">Mozilla を終了したらシステムがクラッシュして、メールがすべて消えてしまいました。どうすればいいの?</a></li>
</ul>
<p></p>
</dd>

<dt><a onclick="return false;" name="transport" href="#transport">7.9. プロファイルを別のマシンに移すには?</a></dt>
<dd>
<p>Mozilla のプロファイルファイルの大部分は、すべてのプラットフォームで共通の形式です。このため、異なる OS 間でプロファイルを移行することが可能です。別のマシンにプロファイルを移動するには:</p>
<ol>
 <li>まず、<a href="#backup">7.6 &quot;プロファイルデータをバックアップするには?&quot;</a> の説明に従って、プロファイルデータのコピーを取ってください。</li>
 <li>プロファイルファイルを目的のマシンにコピーします。プロファイルの場所は完全 (「ベース」「名前」「ソルト」) でなければなりません。できれば、プロファイルの場所を、元のマシンと目的のマシンで同じにしておきます。これらが異なっている場合、プロファイルの設定ファイルを手で編集する必要があります。</li>
 <li>目的のマシンで、Profile Manager を開きます。</li>
 <li>Create Profile を選択し、Next をクリックします。</li>
 <li>プロファイル名を入力します。</li>
 <li>Choose Folder ボタンをクリックし、目的のプロファイルがある場所 (「ベース」＋「名前」、「ソルト」を含まない)に移動します。</li>
 <li>Finish をクリックします。</li>
</ol>
<p>システム管理者向けヒント: 「クリーン」な Mozilla インストールで、多くのシステムにデフォルトとして同じプロファイルをコピーしたい場合は、これらのステップをすべて省略し、代わりに、Resistory.dat を含む、プロファイルディレクトリの中身をすべてコピーしてください。</p>
<p>再度 Profile Manager の起動画面が表示され、新しいプロファイルがリストに追加され、選択されています。元のマシンと目的のマシンでプロファイルの場所 (「ベース」＋「名前」＋「ソルト」) がまったく同一の場合、Start Mozilla を選んで、新しいプロファイルでブラウザを起動できます。違う場合は、プロファイルの設定ファイルを編集する必要があります:</p>
<p><strong><a name="copypref">設定ファイルの編集</a></strong></p>
<ol>
 <li><p>Profile Manager を終了します。</p></li>
 <li><p>プロファイルディレクトリにある pref.js ファイルのある場所を確かめ、Notepad や SimpleText などのテキストエディタでこれを開きます。設定ファイルは次のようなエントリーの一覧になっています:</p><pre class="screen">user_pref("&lt;setting&gt;", &lt;value&gt;);</pre></li>
 <li><p>次のエントリーを探して、削除してください: browser.cache.disk.parent_directory、mail.directory、mail.root.imap、mail.root.nntp、mail.root.none、mail.root.pop3、mail.newsrc_root、news.directory (すべてあるとは限りません)</p></li>
 <li><p>ファイルを保存し、Mozilla を新しいプロファイルで起動してください。</p></li>
 <li><p>Messenger を開きます。(この時点ではバックアップしたメッセージがまだインポートされていないことが分かります) Messenger で、Edit メニューを開き、Mail &amp; Newsgroups Account Settings... を選択します。</p></li>
 <li><p>左の Accounts ペインで、Local Folders アカウントに移動します。右ペインで、新しいプロファイルディレクトリを反映するよう Local Directory を変更します。</p></li>
 <li><p>Accounts ペインで、それぞれのメールアカウントに移動します。そこから Server Settings に移動し、新しいプロファイルディレクトリを反映するよう Local Directory を変更します。</p></li>
 <li><p>ニュースグループを購読している場合は、それぞれのニュースアカウントで Server Settings に移動し、新しいプロファイルディレクトリを反映するよう Local Directory を変更します。</p></li>
 <li><p>OK をクリックします。</p></li>
 <li><p>Mozilla を終了し、再起動してください。メッセージがすべてインポートされているはずです。</p></li>
</ol>
</dd>

<dt><a onclick="return false;" name="netscape" href="#netscape">7.10. プロファイルを、Netscape 7 や古いバージョンの Mozilla と共有できますか?</a></dt>
<dd>
<p><strong>プロファイルを、Netscape 6/7 と共有してはいけません</strong>。異なったバージョンの Mozilla 間でプロファイルを共有すると、プロファイルの破壊を招きます。</p>
<p>なお、Mozilla または Netscape の古いバージョンをアンインストールしても、古いプロファイルは、あなたがそのフォルダを削除しない限り残ります。新しいバージョンの Mozilla をインストールする時は、必ず新規のプロファイルを作成するようにしてください。</p>
</dd>

<dt><a onclick="return false;" name="roaming" href="#roaming">7.10. Mozilla は、ローミング・プロファイルをサポートしていますか?</a></dt>
<dd>
<p>Mozilla は、まだローミング・プロファイル (訳注: Netscape 4.5 以降にある ローミングアクセス と同義でしょう) をサポートしていません。ローミング・プロファイルの機能は開発中です。</p>
</dd>

<dt><a onclick="return false;" name="protect" href="#protect">7.12. プロファイルのデータを守るには?</a></dt>
<dd>
<p>今のところ Mozilla はプロファイルデータを暗号化していません。このため、コンピュータアカウントへのアクセスを規制するには、システム独自のセキュリティ機構を使うべきです。</p>
</dd>

<dt><a onclick="return false;" name="cmd-line" href="#cmd-line">7.13. Mozilla を特定のプロファイルで起動するには?</a></dt>
<dd>
<p>Windows、Linux、Unix システムでは、次のコマンドラインを使って、特定のプロファイルで Mozilla を起動できます:</p>
<pre class="screen">mozilla.exe -p &lt;profile_name&gt;</pre>
<p>&lt;profile_name&gt; のところには、Profile Manager に表示されるのと同じプロファイル名を入れます。</p>
<p>特定のプロファイルで、高速起動モードで Mozilla を起動するには、次のコマンドライン使います:</p>
<pre class="screen">mozilla.exe -turbo -p &lt;profile_name&gt;</pre>
</dd>

   </dl>
   </div>
   <div id="footer"><img src="../images/dino_tail.png" id="dinoTail" alt=""></div> 
  </div>
  <div id="documentinfo">
   <p>
    訳者: 池田 譲治<br>
    <a href="http://www.mozilla.org/start/1.4/faq/profile.html" class="style">このドキュメントのオリジナルは、mozilla.org において、英語で管理・公開されています。</a><br>
    この和訳は、利用者の利便のために <a href="http://www.mozilla-japan.org/jp/td/" class="style">もじら組 和訳プロジェクト</a> によって提供されています。<br>
    ドキュメントの内容に関するフィードバックは、英語で、<a href="http://bugzilla.mozilla.org/show_bug.cgi?id=214845" title="Bug 214845 - The new mozilla 1.4.1 homepage">Bugzilla</a> にお願いします。<br>
    和訳ドキュメント一覧など、詳しい情報は <a href="http://www.mozilla-japan.org/jp/td/" class="style">www.mozilla.gr.jp/jt</a> をご覧ください。
   </p>
  </div>
 </body>
</html>
