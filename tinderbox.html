<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=euc-jp">
<meta http-equiv="imagetoolbar" content="no" />
<meta name="robots" content="noodp,noydir" />
<link rel="home" href="http://mozilla.jp/" title="Home" />
<link rel="alternate" type="application/rss+xml" title="Mozilla Japan ブログ (RSS)" href="http://mozilla.jp/blog/feed/" />
<link rel="alternate" type="application/rss+xml" title="Mozilla Japan プレスリリース (RSS)" href="http://mozilla.jp/press/feed/" />
<link rel="alternate" type="application/rss+xml" title="Mozilla Foundation 最新情報 (RSS)" href="/news.rdf">
<link rel="stylesheet" type="text/css" href="/css/print.css"  media="print">
<link rel="stylesheet" type="text/css" href="/css/base/content.css"  media="all">
<link rel="stylesheet" type="text/css" href="/css/cavendish/content.css" title="Cavendish" media="all">
<link rel="stylesheet" type="text/css" href="/css/base/template.css"  media="screen">
<link rel="stylesheet" type="text/css" href="/css/cavendish/template.css" title="Cavendish" media="screen">
<link rel="icon" href="/images/mozilla-16.png" type="image/png">

<title>tinderbox</title>
<link rel="alternate" hreflang="en" href="http://www.mozilla.org/tinderbox.html">

</head>

<body id="www-mozilla-japan-org" class="deepLevel">
<div id="container">
<p class="important">現在、当サイト「mozilla.org 日本語版」の和訳文書は更新されておらず、<a href="http://www.mozilla.org/tinderbox.html">mozilla.org の原文</a> よりも内容が古くなっている可能性があります。ご不便をお掛けしますが、最新の情報は原文をご確認ください。</p>

<p class="skipLink"><a href="#mainContent" accesskey="2">メインコンテンツへスキップ</a></p>
<div id="header">
<h1><a href="http://mozilla.jp/" title="Mozilla Japan ホームページへ戻る" accesskey="1">Mozilla Japan</a></h1>
<ul>
<li id="menu_aboutus"><a href="http://mozilla.jp/about/" title="Mozilla Japan について">組織概要</a></li>
<li id="menu_developers"><a href="/developer/index.html" title="Mozilla 製品をあなたのアプリケーションにも">開発情報</a></li>
<li id="menu_support"><a href="http://mozilla.jp/support/" title="個人および法人向けのサービス・サポート">サポート</a></li>
<li id="menu_products"><a href="http://mozilla.jp/products/" title="Mozilla 製品概要">製品情報</a></li>
</ul>
<form action="http://www.google.com/cse">
  <div id="lang_form">
    <input type="hidden" name="cx" value="004119830362093040131:jpn2pz-pybe" />
    <input type="hidden" name="cof" value="FORID:0" />
    <input type="hidden" name="ie" value="EUC-JP" />
    <input type="hidden" name="oe" value="UTF-8" />
    <label>サイト内検索: <input type="text" name="q" size="30" /></label>
    <input type="submit" name="sa" value="検索" />
  </div>
</form>

</div>

<hr class="hide">
<div id="mBody">
<div id="side">

<ul id="nav">
<li><a title="ロードマップ"  href="roadmap.html"><strong>ロードマップ</strong></a></li>
<li><a title="プロジェクト"  href="projects/"><strong>プロジェクト</strong></a></li>
<li><a title="開発者向け"  href="developer/index.html"><strong>コーディング</strong></a>
<ul>
<li><a title="モジュールオーナー"  href="owners.html">モジュールオーナー</a></li>
<li><a title="ハック"  href="hacking/">ハック</a></li>
<li><a title="ソースの入手"  href="http://developer.mozilla.org/ja/Download_Mozilla_Source_Code">ソースの入手</a></li>
<li><a title="Mozilla のビルド"  href="http://developer.mozilla.org/ja/Build_Documentation">ビルド</a></li>
</ul>
</li>
<li><a title="テスト"  href="http://quality.mozilla.org/"><strong>テスト</strong></a>
<ul>
<li><a title="リリース"  href="download.html">リリース</a></li>
<li><a title="テスター向け最新ビルド"  href="developer/index.html">ナイトリービルド</a></li>
<li><a title="テスター向けバグ報告窓口"  href="https://bugzilla.mozilla.org/">問題の報告</a></li>
</ul>
</li>
<li><a title="Mozilla 開発者向けツール"  href="http://developer.mozilla.org/ja/Mozilla_Development_Tools"><strong>ツール</strong></a>
<ul>
<li><a title="テスター向けバグ追跡システム"  href="https://bugzilla.mozilla.org/">Bugzilla</a></li>
<li><a title="Mozilla ビルドの最新状況"  href="http://tinderbox.mozilla.org/showbuilds.cgi?tree=Firefox">Tinderbox</a></li>
<li><a title="最新のチェックイン"  href="http://bonsai.mozilla.org/cvsqueryform.cgi">Bonsai</a></li>
<li><a title="ソースコードクロスリファレンス"  href="http://mxr.mozilla.org/">MXR</a></li>
</ul>
</li>
<li><a title="よくある質問"  href="faq.html"><strong>FAQ</strong></a></li></ul>

<ul id="nav">
<li><a title="Mozilla Developer Center 日本語版：最新開発情報用 wiki"  href="http://developer.mozilla.org/ja/"><strong>MDC 日本語版</strong></a></li></ul>

</div>
<hr class="hide">
<div id="mainContent">


<!-- created by ltabb, 18-May-98 -->


<H1>Tinderbox</H1>

<!-- 更新箇所 -->
<h3>動機</h3>
<!-- 更新箇所ここまで -->
<P> もしあなたが 10人以上の開発者とツールを使わず一緒に作業をしてるなら、
その作業はそのうち破綻するでしょう。Tinderbox があればこのような状況でも
破綻しないようになります。

<P> 本質的に、Tinderbox は探索ツールです。これがあればソースツリーで
なにが起こっているかを知ることができます。誰が何をチェックインしたか
(<A HREF="bonsai.html">Bonsai</A> に問い合わせることによって); どの
プラットフォームのビルドが成功したのか; どのプラットフォームが失敗したのか
正確にはどのように失敗したのか(ビルド時のログにて); ビルドが失敗した原因の
ファイルがどういう状態にあるのか(cvsblame)、つまり誰がビルドを失敗させたのか
、<I>このようになった責任の所在</I>という最も重要なことを知ることができます。

<!-- 更新箇所 -->
<h3>設計／ドキュメント</h3>
<P> Tinderbox はビルドの実行とメールによる状態報告をしているクライアントの集まりを伴ったサーバから成っています。
<ul>
  <li><b>サーバ</b><br>
このサーバは Tinderbox クライアントから以下の形式でメールを受け取ります。<br>
<pre>
tinderbox: tree: SeaMonkey
tinderbox: builddate: 1021331520
(...)
tinderbox: status: success
tinderbox: END
(full build log)
</pre>
サーバはそれから、時間を縦軸上に、さまざまなビルドを横軸上にしたテーブルを構築します。<br><br>
    <ul>
      <li><b>1.0 サーバ、オリジナルコード</b><br>
        オリジナルコードは <code>mozilla/webtools/tinderbox</code> に少々乱雑な形でチェックインされています。
	mozilla.org や Netscape の流儀の多くが、ここにハードコーディングされています。
	mozilla.org のメインページはいまだに 1.0 のコードを使っていて、2.0 サーバをインストール／評価している途中です。
      </li><br>
      <li><b>2.0 サーバ, 書き直し</b><br>
        <a href="mailto:kestes@walrus.com">Ken Estes</a> は親切にも、1.0 サーバのコードを書き直し、<a href="http://www.mozilla.org/projects/tinderbox/">この</a>ドキュメントを書き始めました。
	コードは <code>mozilla/webtools/tinderbox2</code> にチェックインされています。
	行われたのはこういうことです。多くのコードの掃除、インタフェースの掃除、ハードコードによる依存性の減少、プロトコルの抽象化、などです。
	多分、新しい 2.0 コードで最も重要なことは、必ずしも bonsai を必要としないということです。
	両方のサーバはしばらくの間共存していたため、この新しいサーバは今では &quot;tinderbox2&quot; と名づけられました。
      </li>
    </ul>
  </li>
  <br>
  <li><b>クライアント</b><br>
    クライアントは基本的に perl の while 無限ループで、更新、ビルド、テストビルド、サーバにメールするときの状態報告をしています。<br><br>
    <ul>
      <li><b>1.0 クライアント、オリジナルコード</b>
        1.0 クライアントはサイクル毎に、<i>I'm starting a build</i>メッセージと<i>I'm done, here's the log and build status</i>メッセージの２つのメールを送ります。
	コードは <code>mozilla/tools/tinderbox</code> にチェックインされています。
	クライアントをどうセットアップするかについての更なる情報のためには <b>README</b> と <b>examples</b> ディレクトリを見てください。
	mozilla.org のすべてのビルドマシンは現在このクライアントかそのようなものを使っています。
	また、クライアントはオプションとしてに post-mozilla.pl を SeaMonkey ビルドのかわりに、ブランドの付いた、あるいは組み込みのクライアントをビルドするメカニズムとしてロードするものもあるので、注意してください。<br><br>
      </li>
      <li><b>2.0 クライアント</b><br>
        新しい 2.0 クライアントがあります。
	2.0 サーバはまた、<i>build still going, partial log</i> メッセージも受け取ることができます。
	したがって、あなたはクライアントループの終わりまで待たなければならないかわりに、ビルドが進むにつれて、進捗を得ることができます。
	1.0 クライアントは現在このような部分ログを送りません。<br>
      </li>
    </ul><br>
    クライアント／サーバプロトコル（上述したログヘッダ）は 2.0 サーバに対して後方互換性があります。そのため、 1.0 クライアントはどちらのサーバとも交信可能です。
  </li>
</ul>


<h3>Mozilla.org の Tinderbox の使い方</h3>

<P>モジラプロジェクトのいくつかで Tinderbox を利用しています。
Mozilla の Tinderbox ページのリストは
<A HREF="http://tinderbox.mozilla.org/">http://tinderbox.mozilla.org</A> にあります。
<!-- 更新箇所ここまで -->

<P><DL>
<DT><A HREF="http://tinderbox.mozilla.org/showbuilds.cgi?tree=SeaMonkey">SeaMonkey</A>
  <DD> これは我々のメインの Tinderbox ページです。SeaMonkey はモジラブラウザ
  最新の実装のプロジェクト名です. これには NGLayout (raptor) と新しい
  フロントエンドのコード(xpfe)が利用されています。これらの Tinderbox マシンが
  ネットスケープ内外で動作しています。
<!-- 更新箇所 -->
  <DT><A HREF="http://tinderbox.mozilla.org/showbuilds.cgi?tree=SeaMonkey-Ports">SeaMonkey-Ports</A>
  <DD>これは、メインページでカバーしていないプラットフォームなどマイナーなプラットフォームの上のビルドの状態を示します。
<!-- 更新箇所ここまで -->
<DT>
</DL>

<P>モジラ開発におけるルールは以下です:

<P><UL>

<li>ビルドの失敗は発生したらそれが修正されるまではチェックインできません。</li>

<li>コードをチェックインしたら,すべてのプラットフォームで
問題なくビルドできるようになるまで目を離さないこと</li>

<li>たぶん動くだろう、とか他の誰かが動くようにしてくれるなどと期待してチェックインしてはいけません。
もしビルドが失敗したら、あなたはびっくりするべきです。</li>
<!-- li 閉じタグ訳者 -->

<li>修正をチェックインする前に動作確認できないプラットフォームがもしあれば誰かに助けを求めてください。
全てのプラットフォームでビルドできるということが確証できないのならチェックインしてはいけません。</li>
<!-- li 閉じタグ訳者 -->


<li>あなたが頻繁にこのルールを破るようであれば、チェックインを許されなくなります。
我々は厳重に対処します。</li>
<!-- li 閉じタグ訳者 -->

<li>ツリーを壊してしまい、誰かがあなたの後に来て、修正してくれたなら、
その誰かが好きなものを賄賂として贈呈しましょう。
リリースチームへ伝統的に贈られてきた賄賂はテキーラです
（でも、Jose Cuervo 以外のものにしてください）。
クッキーとドーナツでも結構です。</li>
<!-- li 閉じタグ訳者 -->
</ul>

<h3>Tinderbox サーバのユーザインタフェース FAQ</h3>

<UL>

<p>
<b>どういうふうに動いているのでしょうか？</b>
<ul>
<P> コードをチェックインしたら、あなたの名前が <I><B>guilty</B></I> 欄に表示されます。
あなたの名前よりも上の<I>全部の</I>欄にビルド成功と(緑色で)表示されると、
ビルドを失敗させなかったとしてOKであることがわかります。

</ul>
<B>ツリーが壊れました、何が悪いのかどうやったら見つけられますか？</B>
<UL>

<P> 緑色の欄のすぐ上の赤い領域（これが、最初にビルドに失敗したやつです）の <B>`L'</B> をクリックすると
失敗したビルドのログが表示されます。
また同じところの <B>`C'</B> をクリックすると,前回のビルド以降にチェックインされた
変更部分の詳細が表示されます。

</UL>
<P><B>ツリーが炎上しています。私のせいじゃありませんが私に何かできるかも知れません。
何をしたらいいですか？</B>
<UL>

<P> あなたができることの１つはビルドの成功が確認できるまで Tinderbox のログを遡って
その日の CVSツリーをチェックすることです。正しくビルドできた時刻に注目し
ツリーを日付指定でアップデートします。
(``<NOBR><B><TT>cvs update -D </TT><I>date</I></B></NOBR>'' オプションを使用します。)
これであなたのビルドがちゃんと動くようになります。（しかしながらツリーがちゃんとビルドできるように
なるまでチェックインはできません。）

</UL>
<P><B>``Clbr'' や ``Dep'' はどういう意味ですか？</B>
<UL>

<!-- 更新箇所 -->
<P> Clbr=Clobber, Dep=Dependです。
<!-- 更新箇所ここまで -->
Mozilla.org の Tinderbox は横軸が不足していて、ここのスペースを節約しています。
``Clobber'' はチェックアウトして1からコンパイルしたものです。``Depend''
はアップデートして、同じディレクトリで差分だけ再ビルドしたものです。
<!-- 更新箇所 -->
（Depend ビルドは早いサイクルになりがちですが、依存性機構が壊れたとき、
時折失敗します。）
<!-- 更新箇所ここまで -->

</UL>
<P><B>ビルドに使われているプラットフォームは、これとそれですが、私の好きなプラットフォームはあれです。
あれでもビルドできるようにはなりませんか？</B>
<UL>
<P> もちろん。マシンを提供してくれさえすればリストに追加させていただきます! 
我々の管轄外の Tinderbox を設定するための情報については
<A HREF="mailto:leaf@mozilla.org">Daniel Nunes</A> にコンタクトを取ってください。

</UL>



<hr class="hide">
</div>
</div>
<div id="footer">
<ul>
<li><a href="http://mozilla.jp/">ホーム</a></li>
<li><a href="/security/">セキュリティ情報</a></li>
<li><a href="http://mozilla.jp/legal/privacy/">個人情報保護方針</a></li>
<li><a href="http://mozilla.jp/about/contact">お問い合わせ</a></li>
</ul>
<p class="copyright">&copy; 2004-2008 Mozilla Japan, Mozilla Foundation and Mozilla Corporation<br>Mozilla Japan は <a href="http://www.mozilla.org/">Mozilla Foundation</a> と <a href="http://www.mozilla.com/en-US/">Mozilla Corporation</a> の公式アフィリエイトです。</p>
<p><span><a href="http://www.mozilla.org/tinderbox.html">英語版</a> 2003/01/03</span> - <span>和訳版 2006/07/20</span> - <span><a href="http://bonsai-www.mozilla.org/cvslog.cgi?file=mozilla-org/html/tinderbox.html">英語版更新履歴</a></span></p>
<p>この文書は翻訳で、原文は <a href="http://www.mozilla.org/">mozilla.org</a> において英語で管理・公開されています。<br>この翻訳文書は、利用者の利便のために <a href="/jp/td/">Mozilla Japan 翻訳部門</a> により提供されています。<br>翻訳文書についてのコメントは <a href="http://forums.firehacks.org/trans/viewforum.php?f=2">mozilla.org 日本語版について</a> までお寄せください。</p>
</div>

</div>
</body>
</html>
